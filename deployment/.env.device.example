# Visant Device Configuration
# Copy this file to /opt/visant/.env.device and fill in your values

# Cloud API URL (Railway or your cloud service)
# Example: https://app.visant.ai
API_URL=https://app.visant.ai

# Device identifier (unique name for this device)
# Use descriptive names like: floor-01-cam, warehouse-entrance, lab-02
DEVICE_ID=pi-device-01

# Camera settings
# Camera source: 0 for /dev/video0, 1 for /dev/video1, etc.
CAMERA_SOURCE=0

# Number of warmup frames to discard after camera opens
CAMERA_WARMUP=2

# Upload timeout in seconds (for capture upload)
UPLOAD_TIMEOUT=30

# Stream timeout in seconds (for SSE connection)
STREAM_TIMEOUT=70

# Reconnect delay in seconds (after connection error)
RECONNECT_DELAY=5

# Configuration polling interval (seconds)
# How often to check cloud for schedule changes
CONFIG_POLL_INTERVAL=5.0

# Directory for debug frame saves
# Default: /opt/visant/debug_captures
SAVE_FRAMES_DIR=/opt/visant/debug_captures

# Timing debug telemetry (optional)
# Enable detailed timing metrics for performance monitoring and optimization
# Shows device-side timing (capture, encoding, network latency) and
# server-side timing (AI inference, storage, broadcast, etc.)
# View metrics at: http://your-cloud-url/ui/time_log
# Set to true to enable, false or empty to disable
# Default: false (disabled for minimal performance overhead)
ENABLE_TIMING_DEBUG=false

# Optional: Camera resolution (WIDTHxHEIGHT)
# Uncomment to force specific resolution
# CAMERA_RESOLUTION=1920x1080

# Optional: OpenCV backend
# Uncomment to specify backend (e.g., v4l2)
# CAMERA_BACKEND=v4l2
